<!DOCTYPE html><html lang="en" style="font-size:16px"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="author" content="BigfootDS"><meta name="description" content="Camo-inspired ODM for NeDB, built specifically for BigfootDS' needs."><meta name="keywords" content="es6,odm,nedb,nosql,document,model,schema,database,data,datastore,query,db"><title>Tutorial: 00: Understanding This Package</title><!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]--><script src="scripts/third-party/hljs.js" defer="defer"></script><script src="scripts/third-party/hljs-line-num.js" defer="defer"></script><script src="scripts/third-party/popper.js" defer="defer"></script><script src="scripts/third-party/tippy.js" defer="defer"></script><script src="scripts/third-party/tocbot.min.js"></script><script>var baseURL="/",locationPathname="";baseURL=(locationPathname=document.location.pathname).substr(0,locationPathname.lastIndexOf("/")+1)</script><link rel="stylesheet" href="styles/clean-jsdoc-theme.min.css"><svg aria-hidden="true" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:none"><defs><symbol id="copy-icon" viewbox="0 0 488.3 488.3"><g><path d="M314.25,85.4h-227c-21.3,0-38.6,17.3-38.6,38.6v325.7c0,21.3,17.3,38.6,38.6,38.6h227c21.3,0,38.6-17.3,38.6-38.6V124    C352.75,102.7,335.45,85.4,314.25,85.4z M325.75,449.6c0,6.4-5.2,11.6-11.6,11.6h-227c-6.4,0-11.6-5.2-11.6-11.6V124    c0-6.4,5.2-11.6,11.6-11.6h227c6.4,0,11.6,5.2,11.6,11.6V449.6z"/><path d="M401.05,0h-227c-21.3,0-38.6,17.3-38.6,38.6c0,7.5,6,13.5,13.5,13.5s13.5-6,13.5-13.5c0-6.4,5.2-11.6,11.6-11.6h227    c6.4,0,11.6,5.2,11.6,11.6v325.7c0,6.4-5.2,11.6-11.6,11.6c-7.5,0-13.5,6-13.5,13.5s6,13.5,13.5,13.5c21.3,0,38.6-17.3,38.6-38.6    V38.6C439.65,17.3,422.35,0,401.05,0z"/></g></symbol><symbol id="search-icon" viewBox="0 0 512 512"><g><g><path d="M225.474,0C101.151,0,0,101.151,0,225.474c0,124.33,101.151,225.474,225.474,225.474    c124.33,0,225.474-101.144,225.474-225.474C450.948,101.151,349.804,0,225.474,0z M225.474,409.323    c-101.373,0-183.848-82.475-183.848-183.848S124.101,41.626,225.474,41.626s183.848,82.475,183.848,183.848    S326.847,409.323,225.474,409.323z"/></g></g><g><g><path d="M505.902,476.472L386.574,357.144c-8.131-8.131-21.299-8.131-29.43,0c-8.131,8.124-8.131,21.306,0,29.43l119.328,119.328    c4.065,4.065,9.387,6.098,14.715,6.098c5.321,0,10.649-2.033,14.715-6.098C514.033,497.778,514.033,484.596,505.902,476.472z"/></g></g></symbol><symbol id="font-size-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11.246 15H4.754l-2 5H.6L7 4h2l6.4 16h-2.154l-2-5zm-.8-2L8 6.885 5.554 13h4.892zM21 12.535V12h2v8h-2v-.535a4 4 0 1 1 0-6.93zM19 18a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></symbol><symbol id="add-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"/></symbol><symbol id="minus-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M5 11h14v2H5z"/></symbol><symbol id="dark-theme-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M10 7a7 7 0 0 0 12 4.9v.1c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2h.1A6.979 6.979 0 0 0 10 7zm-6 5a8 8 0 0 0 15.062 3.762A9 9 0 0 1 8.238 4.938 7.999 7.999 0 0 0 4 12z"/></symbol><symbol id="light-theme-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"/></symbol><symbol id="reset-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M18.537 19.567A9.961 9.961 0 0 1 12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10c0 2.136-.67 4.116-1.81 5.74L17 12h3a8 8 0 1 0-2.46 5.772l.997 1.795z"/></symbol><symbol id="down-icon" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path></symbol><symbol id="codepen-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M16.5 13.202L13 15.535v3.596L19.197 15 16.5 13.202zM14.697 12L12 10.202 9.303 12 12 13.798 14.697 12zM20 10.869L18.303 12 20 13.131V10.87zM19.197 9L13 4.869v3.596l3.5 2.333L19.197 9zM7.5 10.798L11 8.465V4.869L4.803 9 7.5 10.798zM4.803 15L11 19.131v-3.596l-3.5-2.333L4.803 15zM4 13.131L5.697 12 4 10.869v2.262zM2 9a1 1 0 0 1 .445-.832l9-6a1 1 0 0 1 1.11 0l9 6A1 1 0 0 1 22 9v6a1 1 0 0 1-.445.832l-9 6a1 1 0 0 1-1.11 0l-9-6A1 1 0 0 1 2 15V9z"/></symbol><symbol id="close-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"/></symbol><symbol id="menu-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M3 4h18v2H3V4zm0 7h18v2H3v-2zm0 7h18v2H3v-2z"/></symbol></defs></svg></head><body data-theme="dark"><div class="sidebar-container"><div class="sidebar" id="sidebar"><a href="/" class="sidebar-title sidebar-title-anchor">SuperCamo</a><div class="sidebar-items-container"><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-tutorials"><div>Tutorials</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="tutorial-00-understandingthispackage.html">00: Understanding This Package</a></div><div class="sidebar-section-children"><a href="tutorial-01-thesupercamosingleton.html">01: The SuperCamo Singleton</a></div><div class="sidebar-section-children"><a href="tutorial-02-documentbasics.html">02: Document Basics</a></div><div class="sidebar-section-children"><a href="tutorial-03-embeddeddocumentbasics.html">03: Embedded Document Basics</a></div><div class="sidebar-section-children"><a href="tutorial-04-dbclientbasics.html">04: Database Client Basics</a></div><div class="sidebar-section-children"><a href="tutorial-05-gettingstarted.html">05: Getting Started</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-classes"><div>Classes</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="NedbBaseDocument.html">NedbBaseDocument</a></div><div class="sidebar-section-children"><a href="NedbClient.html">NedbClient</a></div><div class="sidebar-section-children"><a href="NedbDocument.html">NedbDocument</a></div><div class="sidebar-section-children"><a href="NedbEmbeddedDocument.html">NedbEmbeddedDocument</a></div><div class="sidebar-section-children"><a href="SuperCamo.html">SuperCamo</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-global"><div>Global</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="global.html#SuperCamoLogger">SuperCamoLogger</a></div></div></div></div></div><div class="navbar-container" id="VuAckcnZhf"><nav class="navbar"><div class="navbar-left-items"><div class="navbar-item navbar-item"><a id="" href="." target="">Home</a></div><div class="navbar-item navbar-item"><a id="" href="./SuperCamo.html" target="">SuperCamo Static Class</a></div><div class="navbar-item navbar-item"><a id="" href="./NedbClient.html" target="">Database Clients</a></div><div class="navbar-item navbar-item"><a id="" href="./NedbDocument.html" target="">Documents</a></div><div class="navbar-item navbar-item"><a id="" href="./NedbEmbeddedDocument.html" target="">Embedded Documents</a></div></div><div class="navbar-right-items"><div class="navbar-right-item"><button class="icon-button search-button" aria-label="open-search"><svg><use xlink:href="#search-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button theme-toggle" aria-label="toggle-theme"><svg><use class="theme-svg-use" xlink:href="#light-theme-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button font-size" aria-label="change-font-size"><svg><use xlink:href="#font-size-icon"></use></svg></button></div></div><nav></nav></nav></div><div class="toc-container"><div class="toc-content"><span class="bold">On this page</span><div id="eed4d2a0bfd64539bb9df78095dec881"></div></div></div><div class="body-wrapper"><div class="main-content"><div class="main-wrapper"><section><header><h2>00: Understanding This Package</h2></header><article><p>SuperCamo is a package built as a wrapper around NeDB. It contains several key parts that you need to understand to really make good use of this package, and you would benefit from also digging around in NeDB package documentation - but we'll point that out when it's necessary in the other documentation pages.</p><p>This page will walk you through the key components of this package and briefly explain what they are, as well as when you need to use them.</p><p>There are a lot of moving pieces in this system. In a nutshell:</p><h2 id="the-supercamo-singleton">The SuperCamo singleton</h2><p>This package is all about making it easier to manage multiple NeDB database connections within a single app's lifetime. The SuperCamo singleton is how that happens.</p><p>Essentially, you should connect to a database via the SuperCamo singleton. The <code>SuperCamo.connect()</code> function returns a reference to the database client instance, and that same instance can be retrieved again in any file that uses the SuperCamo singleton too.</p><p>A singleton is an essentially-global value - wherever you import the SuperCamo singleton, you will have access to the data stored in that singleton - even if the changes to that data happen in other files.</p><p>It means that one file can setup and connect to the database like this:</p><pre class="prettyprint source lang-js"><code>async function connect(){
	// Connect to the database
	databaseInstance = await SuperCamo.connect(
		&quot;BasicExampleDatabase&quot;, 
		path.join(process.cwd(), &quot;.sandbox&quot; , &quot;databases&quot;),
		[
			{name:&quot;Users&quot;, model:User},
			{name: &quot;Articles&quot;, model: Article}
		]
	);
	console.log(&quot;Database instance:&quot;);
	console.log(databaseInstance);
}
connect();
</code></pre><p>And then other files can refer to the database with code like this:</p><pre class="prettyprint source lang-js"><code>const express = require(&quot;express&quot;);
const router = express.Router();

const SuperCamo = require(&quot;@bigfootds/supercamo&quot;);
const databaseInstance = SuperCamo.getClientByName(&quot;BasicExampleDatabase&quot;);

router.get(&quot;/all&quot;, async (request, response) => {
	let availableArticles = await databaseInstance.findManyObjects(&quot;Articles&quot;, {});

	response.json(availableArticles);
});
</code></pre><p>Read more about the SuperCamo singleton on <a href="./tutorial-01-thesupercamosingleton.html">its tutorial page</a>.</p><h2 id="documents">Documents</h2><p>Declaring a document is how you can define a schema or structure for your data.</p><p>Like so:</p><pre class="prettyprint source lang-js"><code>const NedbDocument = require(&quot;@bigfootds/supercamo/NedbDocument&quot;);

class User extends NedbDocument {
	constructor(data, databaseName, collectionName){
		super(data, databaseName, collectionName);
		
		this.username = {
			type: String,
			required: true,
			unique: true
		}

	}
}

module.exports = {User}
</code></pre><p>In the document declaration above, a <code>User</code> document is configured to have one field: a username. Its document data would look like this object in the NeDB datastore:</p><pre class="prettyprint source lang-js"><code>{
	_id: &quot;&quot;,
	username: &quot;&quot;
}
</code></pre><p>Everything else that's going on in that declaration is to enable and configure document validation. So, a username must be provided when creating a new User in the database, and that username must be unique.</p><p>The parameters in the constructor are managed by the NeDB database client - this means you should rarely (ideally never) work with documents directly, but instead through your NeDB database client instance.</p><p>Documents have support for document referencing and population, as well as validation and other operation event hooks.</p><p>Read more about the SuperCamo document on <a href="./tutorial-02-documentbasics.html">its tutorial page</a>.</p><h2 id="subdocuments-or-embedded-documents">Subdocuments or Embedded Documents</h2><p>Subdocuments or embedded documents are a way of structuring complex data nested within documents. While a document can have objects as its properties/fields, it's typically more straightforward to create embedded documents to represent objects instead.</p><p>Embedded documents have their own validation step, so you can configure validation rules in a declared embedded document and they will run when the document that contains the embedded document runs. Might sound hard to keep track of, but basically: embedded documents are identical to regular documents, except you cannot use embedded documents as standalone documents. They can only exist as properties within documents.</p><p>For example:</p><pre class="prettyprint source lang-js"><code>const NedbEmbeddedDocument = require('@bigfootds/supercamo/NedbEmbeddedDocument');
const ISO6391 = require('iso-639-1');
let allowedLanguageCodes = ISO6391.getAllCodes();

class LocalizedContent extends NedbEmbeddedDocument {
	constructor(data, databaseName, collectionName){
		super(data, databaseName, collectionName);

		/**
		 * A two-letter language code that matches the language of this subdocument's name and content.
		 * Examples: &quot;EN&quot;, &quot;FR&quot;, &quot;DE&quot;
		 * Refer to the ISO-639-1 standard online for the full list of usable codes.
		 */
		this.language = {
			type: String,
			choices: allowedLanguageCodes,
			unique: false,
			required: true
		}

		/**
		 * Content written in the language assigned to this.language.
		 */
		this.content = {
			type: String,
			required: true,
			unique: false
		}
	}

}


module.exports = { LocalizedContent };
</code></pre><p>The embedded document above provides a way to structure localized content. A document that uses this embedded document would be able to store translated and localized data by declaring a property that uses an array of LocalizedContent as its <code>type</code>.</p><p>Read more about embedded documents on <a href="./tutorial-03-embeddeddocumentbasics.html">its tutorial page</a>.</p><h2 id="database-client">Database Client</h2><p>As we've seen in the snippets of code so far, we use SuperCamo to create a connection to a database and work with the database instance that SuperCamo returns to us. We can retrieve this database instance again and again in any file by using the SuperCamo singleton, and then any database operations we want to do should be performed on that database client instance.</p><p>The database client is built with a focus on <code>async</code> functionality. Database operations take time. Beyond that, the database client provides a variety of methods to allow you to carry out typical database operations.</p><p>Read more about the SuperCamo database client on <a href="./tutorial-04-dbclientbasics.html">its tutorial page</a>.</p><h2 id="summary">Summary</h2><p>So, those are the four main components to SuperCamo. If that sounds interesting to you, keep digging into this documentation and start coding!</p></article></section></div></div></div><div class="search-container" id="PkfLWpAbet" style="display:none"><div class="wrapper" id="iCxFxjkHbP"><button class="icon-button search-close-button" id="VjLlGakifb" aria-label="close search"><svg><use xlink:href="#close-icon"></use></svg></button><div class="search-box-c"><svg><use xlink:href="#search-icon"></use></svg> <input type="text" id="vpcKVYIppa" class="search-input" placeholder="Search..." autofocus></div><div class="search-result-c" id="fWwVHRuDuN"><span class="search-result-c-text">Type anything to view search result</span></div></div></div><div class="mobile-menu-icon-container"><button class="icon-button" id="mobile-menu" data-isopen="false" aria-label="menu"><svg><use xlink:href="#menu-icon"></use></svg></button></div><div id="mobile-sidebar" class="mobile-sidebar-container"><div class="mobile-sidebar-wrapper"><a href="/" class="sidebar-title sidebar-title-anchor">SuperCamo</a><div class="mobile-nav-links"><div class="navbar-item navbar-item"><a id="" href="." target="">Home</a></div><div class="navbar-item navbar-item"><a id="" href="./SuperCamo.html" target="">SuperCamo Static Class</a></div><div class="navbar-item navbar-item"><a id="" href="./NedbClient.html" target="">Database Clients</a></div><div class="navbar-item navbar-item"><a id="" href="./NedbDocument.html" target="">Documents</a></div><div class="navbar-item navbar-item"><a id="" href="./NedbEmbeddedDocument.html" target="">Embedded Documents</a></div></div><div class="mobile-sidebar-items-c"><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-tutorials"><div>Tutorials</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="tutorial-00-understandingthispackage.html">00: Understanding This Package</a></div><div class="sidebar-section-children"><a href="tutorial-01-thesupercamosingleton.html">01: The SuperCamo Singleton</a></div><div class="sidebar-section-children"><a href="tutorial-02-documentbasics.html">02: Document Basics</a></div><div class="sidebar-section-children"><a href="tutorial-03-embeddeddocumentbasics.html">03: Embedded Document Basics</a></div><div class="sidebar-section-children"><a href="tutorial-04-dbclientbasics.html">04: Database Client Basics</a></div><div class="sidebar-section-children"><a href="tutorial-05-gettingstarted.html">05: Getting Started</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-classes"><div>Classes</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="NedbBaseDocument.html">NedbBaseDocument</a></div><div class="sidebar-section-children"><a href="NedbClient.html">NedbClient</a></div><div class="sidebar-section-children"><a href="NedbDocument.html">NedbDocument</a></div><div class="sidebar-section-children"><a href="NedbEmbeddedDocument.html">NedbEmbeddedDocument</a></div><div class="sidebar-section-children"><a href="SuperCamo.html">SuperCamo</a></div></div><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-global"><div>Global</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="global.html#SuperCamoLogger">SuperCamoLogger</a></div></div></div><div class="mobile-navbar-actions"><div class="navbar-right-item"><button class="icon-button search-button" aria-label="open-search"><svg><use xlink:href="#search-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button theme-toggle" aria-label="toggle-theme"><svg><use class="theme-svg-use" xlink:href="#light-theme-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button font-size" aria-label="change-font-size"><svg><use xlink:href="#font-size-icon"></use></svg></button></div></div></div></div><script type="text/javascript" src="scripts/core.min.js"></script><script src="scripts/search.min.js" defer="defer"></script><script src="scripts/third-party/fuse.js" defer="defer"></script><script type="text/javascript">var tocbotInstance=tocbot.init({tocSelector:"#eed4d2a0bfd64539bb9df78095dec881",contentSelector:".main-content",headingSelector:"h1, h2, h3",hasInnerContainers:!0,scrollContainer:".main-content",headingsOffset:130,onClick:bringLinkToView})</script></body></html>