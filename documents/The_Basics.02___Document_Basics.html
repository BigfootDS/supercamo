<!DOCTYPE html><html class="default" lang="en"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>02 - Document Basics | SuperCamo - v1.0.1</title><meta name="description" content="Documentation for SuperCamo"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css?cache=1727315791587"/><link rel="stylesheet" href="../assets/highlight.css?cache=1727315791587"/><script defer src="../assets/main.js?cache=1727315791587"></script><script async src="../assets/icons.js?cache=1727315791587" id="tsd-icons-script"></script><script async src="../assets/search.js?cache=1727315791587" id="tsd-search-script"></script><script async src="../assets/navigation.js?cache=1727315791587" id="tsd-nav-script"></script><link rel="stylesheet" href="../assets/typedoc-github-style.css"/></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"><a href="https://github.com/BigfootDS/supercamo">GitHub Repository</a></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">SuperCamo - v1.0.1</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../index.html">SuperCamo</a></li><li><a href="The_Basics.html">The Basics</a></li><li><a href="The_Basics.02___Document_Basics.html">02 - Document Basics</a></li></ul></div><div class="tsd-panel tsd-typography"><p>NeDB is a NoSQL database. That means that instead of tables and rows to represent entities of data, we use collections of documents.</p>
<p>Traditionally, one NeDB datastore is one collection. SuperCamo manages that for you, so you just have to assign a document and a collection name to a database client to make that work the same way you'd expect from popular NoSQL systems like MongoDB and MongooseJS.</p>
<a id="md:declaring-documents" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Declaring Documents<a href="#md:declaring-documents" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Declaring a document is how you can define a schema or structure for your data.</p>
<p>Like so:</p>
<pre><code class="js"><span class="hl-3">const</span><span class="hl-1"> {</span><span class="hl-4">NedbDocument</span><span class="hl-1">} = </span><span class="hl-0">require</span><span class="hl-1">(</span><span class="hl-2">&quot;@bigfootds/supercamo&quot;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">class</span><span class="hl-1"> </span><span class="hl-5">User</span><span class="hl-1"> </span><span class="hl-3">extends</span><span class="hl-1"> </span><span class="hl-5">NedbDocument</span><span class="hl-1"> {</span><br/><span class="hl-1">	</span><span class="hl-3">constructor</span><span class="hl-1">(</span><span class="hl-6">data</span><span class="hl-1">, </span><span class="hl-6">databaseName</span><span class="hl-1">, </span><span class="hl-6">collectionName</span><span class="hl-1">){</span><br/><span class="hl-1">		</span><span class="hl-3">super</span><span class="hl-1">(</span><span class="hl-6">data</span><span class="hl-1">, </span><span class="hl-6">databaseName</span><span class="hl-1">, </span><span class="hl-6">collectionName</span><span class="hl-1">);</span><br/><span class="hl-1">		</span><br/><span class="hl-1">		</span><span class="hl-3">this</span><span class="hl-1">.</span><span class="hl-6">username</span><span class="hl-1"> = {</span><br/><span class="hl-1">			</span><span class="hl-6">type:</span><span class="hl-1"> </span><span class="hl-6">String</span><span class="hl-1">,</span><br/><span class="hl-1">			</span><span class="hl-6">required:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">			</span><span class="hl-6">unique:</span><span class="hl-1"> </span><span class="hl-3">true</span><br/><span class="hl-1">		}</span><br/><br/><span class="hl-1">	}</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-5">module</span><span class="hl-1">.</span><span class="hl-5">exports</span><span class="hl-1"> = {</span><span class="hl-6">User</span><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>In the document declaration above, a <code>User</code> document is configured to have one field: a username. It would look like this object:</p>
<pre><code class="js"><span class="hl-1">{</span><br/><span class="hl-1">	</span><span class="hl-9">username</span><span class="hl-1">: </span><span class="hl-2">&quot;&quot;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>Everything else that's going on in that declaration is to enable and configure document validation. So, a username must be provided when creating a new User in the database, and that username must be unique.</p>
<p>The parameters in the constructor are managed by the NeDB database client - this means you should rarely (ideally never) work with documents directly, but instead through your NeDB database client instance. (The thing that you can retrieve from the SuperCamo singleton described in the previous section!)</p>
<a id="md:using-documents-with-the-database" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Using Documents With The Database<a href="#md:using-documents-with-the-database" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>After you've declared your document, you can pass it and a desired collection name into SuperCamo when connecting to a database.</p>
<pre><code class="js"><br/><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-4">User</span><span class="hl-1"> } = </span><span class="hl-0">require</span><span class="hl-1">(</span><span class="hl-2">&quot;./path/to/document/declaration.js&quot;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">connect</span><span class="hl-1">(){</span><br/><span class="hl-1">	</span><span class="hl-6">databaseInstance</span><span class="hl-1"> = </span><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-6">SuperCamo</span><span class="hl-1">.</span><span class="hl-0">connect</span><span class="hl-1">(</span><br/><span class="hl-1">		</span><span class="hl-2">&quot;BasicExampleDatabase&quot;</span><span class="hl-1">, </span><br/><span class="hl-1">		</span><span class="hl-6">path</span><span class="hl-1">.</span><span class="hl-0">join</span><span class="hl-1">(</span><span class="hl-6">process</span><span class="hl-1">.</span><span class="hl-0">cwd</span><span class="hl-1">(), </span><span class="hl-2">&quot;.sandbox&quot;</span><span class="hl-1"> , </span><span class="hl-2">&quot;databases&quot;</span><span class="hl-1">),</span><br/><span class="hl-1">		[</span><br/><span class="hl-1">			{</span><br/><span class="hl-1">				</span><span class="hl-6">name:</span><span class="hl-2">&quot;Users&quot;</span><span class="hl-1">, </span><br/><span class="hl-1">				</span><span class="hl-6">model:User</span><br/><span class="hl-1">			},</span><br/><span class="hl-1">			{</span><br/><span class="hl-1">				</span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&quot;Admins&quot;</span><span class="hl-1">, </span><br/><span class="hl-1">				</span><span class="hl-6">model:</span><span class="hl-1"> </span><span class="hl-6">User</span><br/><span class="hl-1">			}</span><br/><span class="hl-1">		]</span><br/><span class="hl-1">	);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>As you can see, you can reuse documents across multiple collections in a database.</p>
<p>You can then work with that collection via the database client instance.</p>
<pre><code class="js"><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-6">foundUsers</span><span class="hl-1"> = </span><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-6">databaseInstance</span><span class="hl-1">.</span><span class="hl-0">findManyObjects</span><span class="hl-1">(</span><span class="hl-2">&quot;Users&quot;</span><span class="hl-1">, {}, </span><span class="hl-3">true</span><span class="hl-1">);</span><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-6">foundAdmins</span><span class="hl-1"> = </span><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-6">databaseInstance</span><span class="hl-1">.</span><span class="hl-0">findManyObjects</span><span class="hl-1">(</span><span class="hl-2">&quot;Admins&quot;</span><span class="hl-1">, {}, </span><span class="hl-3">true</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>The above example retrieves arrays of objects, where the objects are all structured based on the document's declaration. That's handy for API responses - just make the query, and the result is your plain JSON-friendly data ready to manipulate and send.</p>
<p>If you want to work with a document directly, you can do so:</p>
<pre><code class="js"><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-6">foundUser</span><span class="hl-1"> = </span><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-6">databaseInstance</span><span class="hl-1">.</span><span class="hl-0">findOneDocument</span><span class="hl-1">(</span><span class="hl-2">&quot;Users&quot;</span><span class="hl-1">, {</span><span class="hl-6">username:</span><span class="hl-1"> </span><span class="hl-2">&quot;Bigfoot&quot;</span><span class="hl-1">}, </span><span class="hl-3">true</span><span class="hl-1">);</span><br/><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-6">foundUser</span><span class="hl-1">.</span><span class="hl-6">data</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>The above example queries for a user with a username that exactly matches <code>&quot;Bigfoot&quot;</code>, and returns an instance of the User document with the data of that matching user.</p>
<p>Documents can refer to other documents, specify minimum and maximum values of properties, restrict property values to a set of choices, and more.
You can read more about Document usage and functionalities in other pages - this is just a brief intro for now! 😉</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:declaring-documents"><span>Declaring <wbr/>Documents</span></a><a href="#md:using-documents-with-the-database"><span>Using <wbr/>Documents <wbr/>With <wbr/>The <wbr/>Database</span></a></div></details></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="https://github.com/BigfootDS/supercamo">GitHub Repository</a><a href="https://github.com/BigfootDS/supercamo" class="tsd-nav-link">GitHub Repository</a></nav><nav class="tsd-navigation"><a href="../index.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1"></use></svg><span>SuperCamo - v1.0.1</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base=".."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a> with <a href="https://github.com/KillerJulian/typedoc-github-theme" target="_blank">typedoc-github-theme</a></p></footer><div class="overlay"></div></body></html>
